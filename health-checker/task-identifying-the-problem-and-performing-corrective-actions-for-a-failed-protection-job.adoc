---
permalink: health-checker/task-identifying-the-problem-and-performing-corrective-actions-for-a-failed-protection-job.html 
sidebar: sidebar 
keywords:  
summary: '이벤트 세부 정보 페이지의 원인 필드에서 작업 실패 오류 메시지를 검토하고 스냅샷 복사본 오류로 인해 작업이 실패했는지 확인합니다. 그런 다음 Health/Volume details(상태/볼륨 세부 정보) 페이지로 이동하여 더 많은 정보를 수집합니다.' 
---
= 문제 식별 및 실패한 보호 작업에 대한 수정 조치 수행
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
이벤트 세부 정보 페이지의 원인 필드에서 작업 실패 오류 메시지를 검토하고 스냅샷 복사본 오류로 인해 작업이 실패했는지 확인합니다. 그런 다음 Health/Volume details(상태/볼륨 세부 정보) 페이지로 이동하여 더 많은 정보를 수집합니다.



== 시작하기 전에

OnCommand 관리자 역할이 있어야 합니다.



== 이 작업에 대해

이벤트 세부 정보 페이지의 원인 필드에 제공된 오류 메시지에는 실패한 작업에 대한 다음 텍스트가 포함되어 있습니다.

[listing]
----
Protection Job Failed. Reason: (Transfer operation for
relationship 'cluster2_src_svm:cluster2_src_vol2->cluster3_dst_svm:
managed_svc2_vol3' ended unsuccessfully. Last error reported by
Data ONTAP: Failed to create Snapshot copy 0426cluster2_src_vol2snap
on volume cluster2_src_svm:cluster2_src_vol2. (CSM: An operation
failed due to an ONC RPC failure.).)
*Job Details*
----
이 메시지는 다음 정보를 제공합니다.

* 백업 또는 미러 작업이 성공적으로 완료되지 않았습니다.
+
이 작업에는 소스 볼륨 간의 보호 관계가 포함되었습니다 `cluster2_src_vol2` 가상 서버에서 `cluster2_src_svm` 및 타겟 볼륨입니다 `managed_svc2_vol3` 가상 서버에서 을(를) 선택합니다 `cluster3_dst_svm`.

* 에 대한 스냅샷 복사본 작업이 실패했습니다 `0426cluster2_src_vol2snap` 소스 볼륨에서 `cluster2_src_svm:/cluster2_src_vol2`.


이 시나리오에서는 작업 실패의 원인 및 잠재적 시정 조치를 식별할 수 있습니다. 그러나 장애를 해결하려면 System Manager 웹 UI 또는 ONTAP CLI 명령에 액세스해야 합니다.



== 단계

. 오류 메시지를 검토하고 소스 볼륨에서 스냅샷 복사본 작업이 실패했는지 확인하여 소스 볼륨에 문제가 있을 수 있음을 나타냅니다.
+
선택적으로 오류 메시지 끝에 있는 * 작업 세부 정보 * 링크를 클릭할 수 있지만 이 시나리오의 목적상 그렇게 하지 않도록 선택할 수 있습니다.

. 이벤트 해결을 시도하기로 결정했으므로 다음을 수행합니다.
+
.. 할당 대상 * 버튼을 클릭하고 메뉴에서 * Me * 를 선택합니다.
.. 이벤트에 대한 경고가 설정된 경우 반복 알림 알림을 계속 수신하지 않도록 * 확인 * 버튼을 클릭합니다.
.. 필요에 따라 이벤트에 대한 메모를 추가할 수도 있습니다.


. 소스 볼륨에 대한 세부 정보를 보려면 * 요약 * 창에서 * 소스 * 필드를 클릭합니다.
+
소스 * 필드에는 소스 객체의 이름이 들어 있습니다. 이 경우 스냅샷 복사본 작업이 예약된 볼륨입니다.

+
에 대한 상태/볼륨 세부 정보 페이지가 표시됩니다 `cluster2_src_vol2`보호 탭의 내용을 표시합니다.

. 보호 토폴로지 그래프를 보면 토폴로지의 첫 번째 볼륨과 연관된 오류 아이콘이 표시됩니다. 이 아이콘은 SnapMirror 관계의 소스 볼륨입니다.
+
소스 볼륨 아이콘에는 해당 볼륨에 대해 설정된 경고 및 오류 임계값을 나타내는 가로 막바도 있습니다.

+
image::../media/um-topology-cascade-job-failure.gif[작업 실패 계단식 배열 토폴로지]

. 오류 아이콘 위에 커서를 놓으면 임계값 설정이 표시되고 볼륨이 용량 문제를 나타내는 오류 임계값을 초과했음을 확인하는 팝업 대화 상자가 표시됩니다.
. 용량 * 탭을 클릭합니다.
+
볼륨에 대한 용량 정보입니다 `cluster2_src_vol2` 표시됩니다.

. 용량 * 창에서 막대 그래프에 오류 아이콘이 표시됩니다. 이는 볼륨 용량이 볼륨에 설정된 임계값 수준을 초과했음을 나타냅니다.
. 용량 그래프 아래에 볼륨 자동 확장 기능이 비활성화되어 있고 볼륨 공간 보장이 설정되어 있는 것을 볼 수 있습니다.
+
자동 증가를 사용하도록 설정할 수 있지만 이 시나리오의 목적상 용량 문제를 해결하는 방법을 결정하기 전에 추가 조사를 하기로 결정합니다.

. 아래로 스크롤하여 * 이벤트 * 목록으로 이동하여 보호 작업 실패, 전체 시점까지의 볼륨 일수 및 볼륨 공간 전체 이벤트가 생성되었는지 확인합니다.
. Events* 목록에서 * Volume Space Full* 이벤트를 클릭하여 자세한 정보를 확인하고 이 이벤트가 용량 문제와 가장 관련이 있는 것으로 판단했습니다.
+
이벤트 세부 정보 페이지에는 소스 볼륨의 볼륨 공간 가득 참 이벤트가 표시됩니다.

. 요약 * 영역에서 이벤트의 원인 필드를 읽습니다. `The full threshold set at 90% is breached. 45.38 MB (95.54%) of 47.50 MB is used.`
. 요약 * 영역 아래에 권장 교정 조치가 표시됩니다.
+
[TIP]
====
제안된 시정 조치는 일부 이벤트에 대해서만 표시되므로 모든 유형의 이벤트에 대해 이 영역이 표시되지 않습니다.

====
+
볼륨 공간 가득 참 이벤트를 해결하기 위해 수행할 수 있는 권장 조치 목록을 클릭합니다.

+
** 이 볼륨에 대해 자동 확장 기능을 활성화합니다.
** 볼륨 크기를 조정합니다.
** 이 볼륨에서 중복 제거를 설정하고 실행합니다.
** 이 볼륨에 대해 압축을 활성화하고 실행합니다.


. 볼륨에 대해 자동 확장을 활성화하기로 결정했지만, 그렇게 하려면 상위 애그리게이트에 사용 가능한 공간과 현재 볼륨 증가율을 확인해야 합니다.
+
.. 상위 집계, `cluster2_src_aggr1`를 클릭합니다.
+
[TIP]
====
Aggregate의 이름을 클릭하면 Aggregate에 대한 자세한 정보를 볼 수 있습니다.

====
+
Aggregate에 볼륨 자동 증가를 활성화할 수 있는 충분한 공간이 있는지 확인합니다.

.. 페이지 상단에서 중요 인시던트를 나타내는 아이콘을 확인하고 아이콘 아래에 있는 텍스트를 검토합니다.
+
"Days to Full: less than a day | Daily Growth Rate: 5.4%"를 결정합니다.



. System Manager로 이동하거나 ONTAP CLI에 액세스하여 를 사용하도록 설정하십시오 `volume autogrow` 옵션을 선택합니다.
+
[TIP]
====
자동 확장 기능을 설정할 때 사용할 수 있도록 볼륨 및 애그리게이트 이름을 기록해 둡니다.

====
. 용량 문제를 해결한 후 Unified Manager** 이벤트** 세부 정보 페이지로 돌아가서 이벤트를 Resolved 로 표시합니다.


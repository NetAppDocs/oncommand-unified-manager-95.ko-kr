---
permalink: performance-checker/concept-how-user-defined-performance-threshold-policies-work-opm.html 
sidebar: sidebar 
keywords:  
summary: '스토리지 오브젝트(예: 애그리게이트 및 볼륨\)에 성능 임계값 정책을 설정하여 이벤트를 스토리지 관리자에게 보내 클러스터에 성능 문제가 있음을 알릴 수 있습니다.' 
---
= 사용자 정의 성능 임계값 정책의 작동 방식
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
스토리지 오브젝트(예: 애그리게이트 및 볼륨)에 대한 성능 임계값 정책을 설정하여 이벤트를 스토리지 관리자에게 보내 클러스터에 성능 문제가 발생하고 있음을 알릴 수 있습니다.

스토리지 객체에 대한 성능 임계값 정책을 생성하는 방법은 다음과 같습니다.

* 스토리지 객체를 선택합니다
* 해당 객체와 연결된 성능 카운터 선택
* 경고 및 심각한 상황으로 간주되는 성능 카운터 상한을 정의하는 값을 지정합니다
* 카운터가 상한을 초과할 기간을 정의하는 기간을 지정합니다


예를 들어, 볼륨에 대한 성능 임계값 정책을 설정하여 해당 볼륨에 대한 IOPS가 10분 동안 초당 750작업을 초과할 때마다 중요한 이벤트 알림을 받을 수 있습니다. 이 동일한 임계값 정책은 IOPS가 10분 동안 초당 500개 작업을 초과할 때 경고 이벤트를 보내도록 지정할 수도 있습니다.

[NOTE]
====
현재 릴리즈에서는 카운터 값이 임계값 설정을 초과할 때 이벤트를 전송하는 임계값을 제공합니다. 카운터 값이 임계값 설정 아래로 떨어지면 이벤트를 전송하는 임계값을 설정할 수 없습니다.

====
여기에 표시된 카운터 차트 예는 경고 임계값(노란색 아이콘)이 1:00에 위반되었으며 중요 임계값(빨간색 아이콘)이 12:10, 12:30 및 1:10에 위반되었음을 나타냅니다.

image::../media/opm2-threshold-breach.gif[opm2 임계값 위반]

임계값 위반은 지정된 기간 동안 연속적으로 발생해야 합니다. 어떤 이유로든 임계값이 제한 값 아래로 떨어지면 후속 위반은 새로운 기간의 시작으로 간주됩니다.

일부 클러스터 개체와 성능 카운터를 사용하면 이벤트가 생성되기 전에 두 개의 성능 카운터가 최대 제한을 초과하도록 하는 조합 임계값 정책을 만들 수 있습니다. 예를 들어, 다음 기준을 사용하여 임계값 정책을 생성할 수 있습니다.

|===
| 클러스터 객체 | 성능 카운터 | 경고 임계값 | 위험 임계값 | 기간 


 a| 
볼륨
 a| 
지연 시간
 a| 
10밀리초
 a| 
20밀리초
 a| 
15분

|===
두 클러스터 객체를 사용하는 임계값 정책은 두 조건이 모두 위반된 경우에만 이벤트가 생성됩니다. 예를 들어 표에 정의된 임계값 정책을 사용할 수 있습니다.

|===
| 볼륨 지연 시간이 평균인 경우... | 그리고 애그리게이트 디스크 활용률은... | 그러면... 


 a| 
15밀리초
 a| 
50%
 a| 
보고된 이벤트가 없습니다.



 a| 
15밀리초
 a| 
75%
 a| 
경고 이벤트가 보고됩니다.



 a| 
25밀리초
 a| 
75%
 a| 
경고 이벤트가 보고됩니다.



 a| 
25밀리초
 a| 
90%
 a| 
긴급 이벤트가 보고됩니다.

|===